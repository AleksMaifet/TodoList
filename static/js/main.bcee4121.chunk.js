(this.webpackJsonpmytodolist=this.webpackJsonpmytodolist||[]).push([[0],{125:function(t,e,n){},126:function(t,e,n){},154:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),s=(n(125),n(126),n(206)),o=n(16),l=n.n(o),u=n(27),d=n(8),j=n(53),b=n(97),O=n.n(b).a.create({withCredentials:!0,headers:{"API-KEY":"5c7c1e5a-aa4c-4b00-a92b-b6f5df506a28"},baseURL:"https://social-network.samuraijs.com/api/1.1/"}),f=function(){return O.get("todo-lists",{})},p=function(t){return O.post("todo-lists",{title:t},{})},h=function(t){return O.delete("todo-lists/".concat(t),{})},m=function(t,e){return O.put("todo-lists/".concat(t),{title:e},{})},x=function(t){return O.get("todo-lists/".concat(t,"/tasks"),{})},v=function(t,e){return O.post("todo-lists/".concat(t,"/tasks"),{title:e},{})},T=function(t,e){return O.delete("todo-lists/".concat(t,"/tasks/").concat(e),{})},y=function(t,e,n){return O.put("todo-lists/".concat(t,"/tasks/").concat(e),Object(d.a)({},n),{})},S={status:"success",error:null},k=function(t){return{type:"LOAD-PROGRESS",payload:{status:t}}},g=function(t){return{type:"ERROR-STATUS",payload:{error:t}}},C=[],I=function(t){return{type:"REMOVE-TODOLISTS",todolistID:t}},D=function(t,e){return{type:"CHANGE-TODOLIST-TITLE",title:t,todolistID:e}},w=function(t,e){return{type:"CHANGE-TODOLIST-ENTITY-STATUS",todolistID:t,entityStatus:e}},A=function(t){return function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,c,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(k("loading")),e.prev=1,e.next=4,p(t);case 4:a=e.sent,r=a.data,c=r.data.item,i=r.messages,s=r.resultCode,n(0===s?{type:"ADD-TODOLIST",todolist:c}:g(i[0])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(g("Authorization has been denied for this request."));case 13:return e.prev=13,n(k("success")),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},E=n(19),L=n(21),N=n(209),R=n(191),H=n(193),P=n(194),K=n(195),G=n(157),U=n(156),z=n(102),M=n.n(z),B=n(196),F=n(214),V=n(3);function q(){var t=Object(a.useState)(!0),e=Object(L.a)(t,2),n=e[0],c=e[1],i=r.a.useState(null),s=Object(L.a)(i,2),o=(s[0],s[1]);return Object(V.jsxs)(N.a,{sx:{flexGrow:1},children:[Object(V.jsx)(R.a,{children:Object(V.jsx)(H.a,{control:Object(V.jsx)(P.a,{checked:n,onChange:function(t){c(t.target.checked)},"aria-label":"login switch"}),label:n?"Logout":"Login"})}),Object(V.jsx)(K.a,{position:"static",children:Object(V.jsxs)(B.a,{style:{justifyContent:"space-between"},children:[Object(V.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(V.jsx)(G.a,{size:"medium",edge:"start",color:"inherit","aria-label":"menu",children:Object(V.jsx)(M.a,{})}),Object(V.jsx)(U.a,{variant:"h6",children:"Menu"})]}),n&&Object(V.jsx)("div",{children:Object(V.jsx)(G.a,{size:"medium","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){o(t.currentTarget)},color:"inherit",children:Object(V.jsx)(F.a,{alt:"Remy Sharp",src:"/static/images/avatar/2.jpg"})})})]})})]})}var Y,J,Z=n(197),W=function(){var t=Object(E.c)((function(t){return t.app.status}));return Object(V.jsx)("div",{style:{height:"1px"},children:"loading"===t&&Object(V.jsx)(N.a,{sx:{width:"100%"},children:Object(V.jsx)(Z.a,{})})})},$=n(205),_=n(158),Q=n(207),X=n(200),tt=n(201),et=r.a.memo((function(t){var e=t.callBack,n=t.todolistStatus,r=Object(a.useState)(""),c=Object(L.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(null),l=Object(L.a)(o,2),u=l[0],d=l[1],j=function(){var t=i.trim();""!==t?(e(t),s("")):d("Title is required")};return Object(V.jsxs)("div",{children:[Object(V.jsx)(Q.a,{value:i,onChange:function(t){s(t.currentTarget.value)},onKeyPress:function(t){null!==u&&d(null),13===t.charCode&&"idle"===n&&j()},error:!!u,label:u||"Type value"}),Object(V.jsx)(X.a,{color:"secondary",size:"small",onClick:j,disabled:"loading"===n,children:Object(V.jsx)(tt.a,{})})]})})),nt=n(213),at=n(210),rt=r.a.memo((function(t){var e=t.errorStatus,n=Object(E.b)(),a=null!=e,r=function(t,e){"clickaway"!==e&&n(g(null))};return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(nt.a,{open:a,autoHideDuration:6e3,onClose:r,children:Object(V.jsxs)(at.a,{style:{backgroundColor:"red"},onClose:r,variant:"filled",severity:"error",children:[e," \ud83d\ude20"]})})})})),ct=function(t){return t.todolist},it=function(t){return t.app.error},st=n(203),ot=n(202),lt=r.a.memo((function(t){var e=t.name===t.filter?"primary":"inherit";return Object(V.jsx)(ot.a,{endIcon:Object(V.jsx)(st.a,{}),variant:"contained",color:e,onClick:function(){return t.onClick()},children:t.name})})),ut=n(108),dt=r.a.memo((function(t){var e=t.spanTitle,n=Object(ut.a)(t,["spanTitle"]),r=Object(a.useState)(""),c=Object(L.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(!1),l=Object(L.a)(o,2),u=l[0],d=l[1],j=function(){n.callback(i),d(!1)};return u?Object(V.jsx)("input",{value:i,onChange:function(t){s(t.currentTarget.value)},onBlur:j,onKeyPress:function(t){"Enter"===t.key&&j()},autoFocus:!0}):Object(V.jsx)("span",{onDoubleClick:function(){d(!0),s(e)},children:e})})),jt=n(204),bt=n(36);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(Y||(Y={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(J||(J={}));var Ot={},ft=function(t,e){return{type:"REMOVE-TASK",taskId:t,todolistID:e}},pt=function(t,e){return{type:"ADD-TASK",todolistID:t,task:e}},ht=function(t,e,n){return{type:"UPDATE-TASK",TaskId:t,module:e,todolistID:n}},mt=function(t,e,n){return{type:"CHANGE-TASK-ENTITY-STATUS",taskId:t,todolistID:e,entityStatus:n}},xt=function(t){return function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(k("loading")),a={title:t.title,description:t.description,status:t.status,priority:t.priority,startDate:t.startDate,deadline:t.deadline},e.next=4,y(t.todoListId,t.id,a);case 4:r=e.sent,c=r.data,i=c.data.item,c.messages,c.resultCode,n(ht(t.id,i,t.todoListId)),n(k("success"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},vt=r.a.memo((function(t){var e=t.task,n=t.onClickHandler,a=t.onChangeHandler,r=t.changeTaskTitleHandler;return Object(V.jsxs)("li",{className:e.status===Y.Completed?"is-done":"",children:[Object(V.jsx)("input",{type:"checkbox",onChange:function(t){var n=t.currentTarget.checked;a(Object(d.a)(Object(d.a)({},e),{},{status:n?Y.Completed:Y.New}))},checked:e.status===Y.Completed}),Object(V.jsx)(dt,{spanTitle:e.title,callback:function(t){return r(Object(d.a)(Object(d.a)({},e),{},{title:t}))}}),Object(V.jsx)(G.a,{disabled:"loading"===e.entityStatus,onClick:function(){return n(e.id)},size:"small",children:Object(V.jsx)(jt.a,{fontSize:"small"})})]})})),Tt=r.a.memo((function(t){var e=Object.assign({},t),n=Object(E.b)(),r=Object(E.c)((function(t){return t.todolist.filter((function(t){return t.id===e.id}))[0]})),c=Object(E.c)((function(t){return t.tasks[e.id]}));Object(a.useEffect)((function(){var t;n((t=e.id,function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(k("loading")),e.next=3,x(t);case 3:a=e.sent,(r=a.data).error,c=r.items,r.totalCount,n({type:"SET-TASK",todolistID:t,tasks:c}),n(k("success"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[n,e.id]);var i=c;"Active"===r.filter&&(i=c.filter((function(t){return t.status===Y.New}))),"Completed"===r.filter&&(i=c.filter((function(t){return t.status===Y.Completed})));var s=Object(a.useCallback)((function(t,e){n(function(t,e){return function(){var n=Object(u.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(k("loading")),a(mt(t,e,"loading")),n.next=4,T(e,t);case 4:a(ft(t,e)),a(k("success"));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(t,e))}),[n]),o=Object(a.useCallback)((function(t,e){n(function(t,e){return function(){var n=Object(u.a)(l.a.mark((function n(a){var r,c,i,s,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(k("loading")),n.prev=1,n.next=4,v(e,t);case 4:r=n.sent,c=r.data,i=c.data.item,s=c.messages,o=c.resultCode,a(0===o?pt(e,i):g(s[0])),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a(g("Authorization has been denied for this request."));case 13:return n.prev=13,a(k("success")),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,10,13,16]])})));return function(t){return n.apply(this,arguments)}}()}(t,e))}),[n]),d=Object(a.useCallback)((function(t,e){n(function(t,e){return{type:"CHANGE-TODOLISTS",value:t,todolistID:e}}(t,e))}),[n]),j=Object(a.useCallback)((function(t,e){n(function(t,e){return function(){var n=Object(u.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(k("loading")),n.next=3,m(e,t);case 3:a(D(t,e)),a(k("success"));case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(t,e))}),[n]),b=Object(a.useCallback)((function(t){n(function(t){return function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(k("loading")),n(w(t,"loading")),e.next=4,h(t);case 4:n(I(t)),n(k("success"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))}),[n]),O=Object(a.useCallback)((function(t){n(xt(t))}),[n]),f=Object(a.useCallback)((function(t){n(xt(t))}),[n]),p=Object(a.useCallback)((function(){b(e.id)}),[b,e.id]),y=Object(a.useCallback)((function(){return d("All",e.id)}),[d,e.id]),S=Object(a.useCallback)((function(){return d("Active",e.id)}),[d,e.id]),C=Object(a.useCallback)((function(){return d("Completed",e.id)}),[d,e.id]),A=Object(a.useCallback)((function(t){o(t,e.id)}),[o,e.id]),L=Object(a.useCallback)((function(t){j(t,e.id)}),[j,e.id]),N=Object(a.useCallback)((function(t){return s(t,e.id)}),[s,e.id]);return Object(V.jsxs)("div",{children:[Object(V.jsxs)("h3",{children:[Object(V.jsx)(dt,{spanTitle:r.title,callback:L}),Object(V.jsx)(G.a,{onClick:p,disabled:"loading"===r.entityStatus,size:"small",children:Object(V.jsx)(jt.a,{fontSize:"small"})})]}),Object(V.jsx)(et,{callBack:A,todolistStatus:r.entityStatus}),Object(V.jsx)("ul",{style:{listStyleType:"none"},children:i&&i.map((function(t){return Object(V.jsx)(vt,{task:t,onClickHandler:N,onChangeHandler:f,changeTaskTitleHandler:O},t.id)}))}),Object(V.jsxs)("div",{children:[Object(V.jsx)(lt,{onClick:y,name:"All",filter:r.filter}),Object(V.jsx)(lt,{onClick:S,name:"Active",filter:r.filter}),Object(V.jsx)(lt,{onClick:C,name:"Completed",filter:r.filter})]})]})})),yt=function(){var t=Object(E.b)(),e=Object(E.c)(ct),n=Object(E.c)(it),r=Object(a.useCallback)(function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(A(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),c=e.map((function(t){return Object(V.jsx)($.a,{item:!0,children:Object(V.jsx)(_.a,{elevation:3,style:{padding:"20px"},children:Object(V.jsx)(Tt,{id:t.id},t.id)})},t.id)}));return Object(V.jsxs)("div",{className:"App",children:[Object(V.jsx)($.a,{container:!0,style:{margin:"50px 0",justifyContent:"center"},children:Object(V.jsx)(et,{callBack:r})}),Object(V.jsx)($.a,{container:!0,spacing:6,children:c}),Object(V.jsx)(rt,{errorStatus:n})]})},St=n(10),kt=n(212),gt=n(107),Ct=n(198),It=n(199),Dt=n(105),wt=n.n(Dt),At=function(){var t=Object(gt.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Required",t.password||(e.password="Invalid email address"),e},onSubmit:function(t){alert(JSON.stringify(t))}});return Object(V.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"40px"},children:Object(V.jsx)("div",{children:Object(V.jsx)(_.a,{elevation:3,style:{padding:"20px"},children:Object(V.jsx)("form",{onSubmit:t.handleSubmit,children:Object(V.jsxs)(Ct.a,{children:[Object(V.jsxs)(It.a,{children:[Object(V.jsx)("p",{children:"Email: aleksmaifet@gmail.com"}),Object(V.jsx)("p",{children:"Password: Free"})]}),Object(V.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"30px 0"},children:[Object(V.jsx)(F.a,{style:{backgroundColor:"red",marginBottom:"20px"},children:Object(V.jsx)(wt.a,{})}),Object(V.jsx)(U.a,{component:"h1",variant:"h5",children:"Sign in"})]}),Object(V.jsxs)(R.a,{children:[Object(V.jsx)(Q.a,Object(d.a)({label:t.errors.email&&t.touched.email?t.errors.email:"Email",margin:"normal",error:!!t.errors.email&&!!t.touched.email},t.getFieldProps("email"))),Object(V.jsx)(Q.a,Object(d.a)({type:"password",label:t.errors.password&&t.touched.password?t.errors.password:"Password",margin:"normal",error:!!t.errors.password&&!!t.touched.password},t.getFieldProps("password"))),Object(V.jsx)(H.a,Object(d.a)({style:{margin:"20px 0"},label:"Remember me",control:Object(V.jsx)(kt.a,{})},t.getFieldProps("rememberMe"))),Object(V.jsx)(ot.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})]})})})})})};var Et=function(){var t=Object(E.b)();return Object(a.useEffect)((function(){t(function(){var t=Object(u.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(k("loading")),t.prev=1,t.next=4,f();case 4:n=t.sent,a=n.data,e({type:"SET-TODOLIST",todolists:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(g("Authorization has been denied for this request."));case 12:return t.prev=12,e(k("success")),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(V.jsxs)(s.a,{fixed:!0,children:[Object(V.jsx)(q,{}),Object(V.jsx)(W,{}),Object(V.jsxs)(St.c,{children:[Object(V.jsx)(St.a,{path:"/Todolist",element:Object(V.jsx)(yt,{})}),Object(V.jsx)(St.a,{path:"/login",element:Object(V.jsx)(At,{})})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Lt=n(71),Nt=n(106),Rt=Object(Lt.b)({todolist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE-TODOLISTS":return Object(j.a)(t.map((function(t){return t.id===e.todolistID?Object(d.a)(Object(d.a)({},t),{},{filter:e.value}):t})));case"REMOVE-TODOLISTS":return Object(j.a)(t.filter((function(t){return t.id!==e.todolistID})));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.todolistID?Object(d.a)(Object(d.a)({},t),{},{title:e.title}):t}));case"ADD-TODOLIST":return[Object(d.a)(Object(d.a)({},e.todolist),{},{filter:"All",entityStatus:"idle"})].concat(Object(j.a)(t));case"SET-TODOLIST":return e.todolists.map((function(t){return Object(d.a)(Object(d.a)({},t),{},{filter:"All",entityStatus:"idle"})}));case"CHANGE-TODOLIST-ENTITY-STATUS":return t.map((function(t){return t.id===e.todolistID?Object(d.a)(Object(d.a)({},t),{},{entityStatus:e.entityStatus}):t}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(bt.a)({},e.todolistID,t[e.todolistID].filter((function(t){return t.id!==e.taskId}))));case"ADD-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(bt.a)({},e.todolistID,[Object(d.a)(Object(d.a)({},e.task),{},{entityStatus:"idle"})].concat(Object(j.a)(t[e.todolistID]))));case"UPDATE-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(bt.a)({},e.todolistID,t[e.todolistID].map((function(t){return t.id===e.TaskId?Object(d.a)(Object(d.a)({},t),e.module):t}))));case"ADD-TODOLIST":return Object(d.a)(Object(d.a)({},t),{},Object(bt.a)({},e.todolist.id,[]));case"SET-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(bt.a)({},e.todolistID,e.tasks.map((function(t){return Object(d.a)(Object(d.a)({},t),{},{entityStatus:"idle"})}))));case"REMOVE-TODOLISTS":return delete t[e.todolistID],t;case"CHANGE-TASK-ENTITY-STATUS":return Object(d.a)(Object(d.a)({},t),{},Object(bt.a)({},e.todolistID,t[e.todolistID].map((function(t){return t.id===e.taskId?Object(d.a)(Object(d.a)({},t),{},{entityStatus:e.entityStatus}):t}))));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOAD-PROGRESS":case"ERROR-STATUS":return Object(d.a)(Object(d.a)({},t),e.payload);default:return t}}}),Ht=Object(Lt.c)(Rt,Object(Lt.a)(Nt.a));window.store=Ht;var Pt=n(76);i.a.render(Object(V.jsx)(Pt.a,{children:Object(V.jsx)(E.a,{store:Ht,children:Object(V.jsx)(Et,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[154,1,2]]]);
//# sourceMappingURL=main.bcee4121.chunk.js.map