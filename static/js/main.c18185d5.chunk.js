(this.webpackJsonpmytodolist=this.webpackJsonpmytodolist||[]).push([[0],{102:function(t,e,n){},104:function(t,e,n){},133:function(t,e,n){"use strict";n.r(e);var a,c,r=n(0),i=n.n(r),s=n(11),o=n.n(s),u=(n(102),n(15)),l=n.n(u),d=n(20),j=(n(104),n(28)),b=n(182),O=n(169),f=n(170),p=n(4),h=i.a.memo((function(t){var e=t.callBack,n=t.todolistStatus,a=Object(r.useState)(""),c=Object(j.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(null),u=Object(j.a)(o,2),l=u[0],d=u[1],h=function(){var t=i.trim();""!==t?(e(t),s("")):d("Title is required")};return Object(p.jsxs)("div",{children:[Object(p.jsx)(b.a,{value:i,onChange:function(t){s(t.currentTarget.value)},onKeyPress:function(t){null!==l&&d(null),13===t.charCode&&"idle"===n&&h()},error:!!l,label:l||"Type value"}),Object(p.jsx)(O.a,{color:"secondary",size:"small",onClick:h,disabled:"loading"===n,children:Object(p.jsx)(f.a,{})})]})})),v=n(172),x=n(171),m=i.a.memo((function(t){var e=t.name===t.filter?"primary":"inherit";return Object(p.jsx)(x.a,{endIcon:Object(p.jsx)(v.a,{}),variant:"contained",color:e,onClick:function(){return t.onClick()},children:t.name})})),T=n(86),k=i.a.memo((function(t){var e=t.spanTitle,n=Object(T.a)(t,["spanTitle"]),a=Object(r.useState)(""),c=Object(j.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(!1),u=Object(j.a)(o,2),l=u[0],d=u[1],b=function(){n.callback(i),d(!1)};return l?Object(p.jsx)("input",{value:i,onChange:function(t){s(t.currentTarget.value)},onBlur:b,onKeyPress:function(t){"Enter"===t.key&&b()},autoFocus:!0}):Object(p.jsx)("span",{onDoubleClick:function(){d(!0),s(e)},children:e})})),S=n(173),y=n(174),g=n(44),C=n(29),D=n(8),I=n(83),A=n.n(I).a.create({withCredentials:!0,headers:{"API-KEY":"5c7c1e5a-aa4c-4b00-a92b-b6f5df506a28"},baseURL:"https://social-network.samuraijs.com/api/1.1/"}),w=function(){return A.get("todo-lists",{})},E=function(t){return A.post("todo-lists",{title:t},{})},L=function(t){return A.delete("todo-lists/".concat(t),{})},N=function(t,e){return A.put("todo-lists/".concat(t),{title:e},{})},H=function(t){return A.get("todo-lists/".concat(t,"/tasks"),{})},R=function(t,e){return A.post("todo-lists/".concat(t,"/tasks"),{title:e},{})},K=function(t,e){return A.delete("todo-lists/".concat(t,"/tasks/").concat(e),{})},G=function(t,e,n){return A.put("todo-lists/".concat(t,"/tasks/").concat(e),Object(D.a)({},n),{})},U={status:"success",error:null},z=function(t){return{type:"LOAD-PROGRESS",payload:{status:t}}},P=function(t){return{type:"ERROR-STATUS",payload:{error:t}}};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(a||(a={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(c||(c={}));var M={},B=function(t,e){return{type:"REMOVE-TASK",taskId:t,todolistID:e}},V=function(t,e){return{type:"ADD-TASK",todolistID:t,task:e}},Y=function(t,e,n){return{type:"UPDATE-TASK",TaskId:t,module:e,todolistID:n}},q=function(t,e,n){return{type:"CHANGE-TASK-ENTITY-STATUS",taskId:t,todolistID:e,entityStatus:n}},F=function(t){return function(){var e=Object(d.a)(l.a.mark((function e(n){var a,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(z("loading")),a={title:t.title,description:t.description,status:t.status,priority:t.priority,startDate:t.startDate,deadline:t.deadline},e.next=4,G(t.todoListId,t.id,a);case 4:c=e.sent,r=c.data,i=r.data.item,r.messages,r.resultCode,n(Y(t.id,i,t.todoListId)),n(z("success"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=[],W=function(t){return{type:"REMOVE-TODOLISTS",todolistID:t}},$=function(t,e){return{type:"CHANGE-TODOLIST-TITLE",title:t,todolistID:e}},Q=function(t,e){return{type:"CHANGE-TODOLIST-ENTITY-STATUS",todolistID:t,entityStatus:e}},X=function(t){return function(){var e=Object(d.a)(l.a.mark((function e(n){var a,c,r,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(z("loading")),e.prev=1,e.next=4,E(t);case 4:a=e.sent,c=a.data,r=c.data.item,i=c.messages,s=c.resultCode,n(0===s?{type:"ADD-TODOLIST",todolist:r}:P(i[0])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(P("Authorization has been denied for this request."));case 13:return e.prev=13,n(z("success")),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},Z=n(17),_=i.a.memo((function(t){var e=t.task,n=t.onClickHandler,c=t.onChangeHandler,r=t.changeTaskTitleHandler;return Object(p.jsxs)("li",{className:e.status===a.Completed?"is-done":"",children:[Object(p.jsx)("input",{type:"checkbox",onChange:function(t){var n=t.currentTarget.checked;c(Object(D.a)(Object(D.a)({},e),{},{status:n?a.Completed:a.New}))},checked:e.status===a.Completed}),Object(p.jsx)(k,{spanTitle:e.title,callback:function(t){return r(Object(D.a)(Object(D.a)({},e),{},{title:t}))}}),Object(p.jsx)(S.a,{disabled:"loading"===e.entityStatus,onClick:function(){return n(e.id)},size:"small",children:Object(p.jsx)(y.a,{fontSize:"small"})})]})})),tt=i.a.memo((function(t){var e=Object.assign({},t),n=Object(Z.b)(),c=Object(Z.c)((function(t){return t.todolist.filter((function(t){return t.id===e.id}))[0]})),i=Object(Z.c)((function(t){return t.tasks[e.id]}));Object(r.useEffect)((function(){var t;n((t=e.id,function(){var e=Object(d.a)(l.a.mark((function e(n){var a,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(z("loading")),e.next=3,H(t);case 3:a=e.sent,(c=a.data).error,r=c.items,c.totalCount,n({type:"SET-TASK",todolistID:t,tasks:r}),n(z("success"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[n,e.id]);var s=i;"Active"===c.filter&&(s=i.filter((function(t){return t.status===a.New}))),"Completed"===c.filter&&(s=i.filter((function(t){return t.status===a.Completed})));var o=Object(r.useCallback)((function(t,e){n(function(t,e){return function(){var n=Object(d.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(z("loading")),a(q(t,e,"loading")),n.next=4,K(e,t);case 4:a(B(t,e)),a(z("success"));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(t,e))}),[n]),u=Object(r.useCallback)((function(t,e){n(function(t,e){return function(){var n=Object(d.a)(l.a.mark((function n(a){var c,r,i,s,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(z("loading")),n.prev=1,n.next=4,R(e,t);case 4:c=n.sent,r=c.data,i=r.data.item,s=r.messages,o=r.resultCode,a(0===o?V(e,i):P(s[0])),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a(P("Authorization has been denied for this request."));case 13:return n.prev=13,a(z("success")),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,10,13,16]])})));return function(t){return n.apply(this,arguments)}}()}(t,e))}),[n]),j=Object(r.useCallback)((function(t,e){n(function(t,e){return{type:"CHANGE-TODOLISTS",value:t,todolistID:e}}(t,e))}),[n]),b=Object(r.useCallback)((function(t,e){n(function(t,e){return function(){var n=Object(d.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(z("loading")),n.next=3,N(e,t);case 3:a($(t,e)),a(z("success"));case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(t,e))}),[n]),O=Object(r.useCallback)((function(t){n(function(t){return function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(z("loading")),n(Q(t,"loading")),e.next=4,L(t);case 4:n(W(t)),n(z("success"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))}),[n]),f=Object(r.useCallback)((function(t){n(F(t))}),[n]),v=Object(r.useCallback)((function(t){n(F(t))}),[n]),x=Object(r.useCallback)((function(){O(e.id)}),[O,e.id]),T=Object(r.useCallback)((function(){return j("All",e.id)}),[j,e.id]),g=Object(r.useCallback)((function(){return j("Active",e.id)}),[j,e.id]),C=Object(r.useCallback)((function(){return j("Completed",e.id)}),[j,e.id]),D=Object(r.useCallback)((function(t){u(t,e.id)}),[u,e.id]),I=Object(r.useCallback)((function(t){b(t,e.id)}),[b,e.id]),A=Object(r.useCallback)((function(t){return o(t,e.id)}),[o,e.id]);return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h3",{children:[Object(p.jsx)(k,{spanTitle:c.title,callback:I}),Object(p.jsx)(S.a,{onClick:x,disabled:"loading"===c.entityStatus,size:"small",children:Object(p.jsx)(y.a,{fontSize:"small"})})]}),Object(p.jsx)(h,{callBack:D,todolistStatus:c.entityStatus}),Object(p.jsx)("ul",{style:{listStyleType:"none"},children:s&&s.map((function(t){return Object(p.jsx)(_,{task:t,onClickHandler:A,onChangeHandler:v,changeTaskTitleHandler:f},t.id)}))}),Object(p.jsxs)("div",{children:[Object(p.jsx)(m,{onClick:T,name:"All",filter:c.filter}),Object(p.jsx)(m,{onClick:g,name:"Active",filter:c.filter}),Object(p.jsx)(m,{onClick:C,name:"Completed",filter:c.filter})]})]})})),et=n(180),nt=n(135),at=n(181),ct=function(t){return t.todolist},rt=function(t){return t.app.error},it=n(187),st=n(185),ot=i.a.memo((function(t){var e=t.errorStatus,n=Object(Z.b)(),a=null!=e,c=function(t,e){"clickaway"!==e&&n(P(null))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(it.a,{open:a,autoHideDuration:6e3,onClose:c,children:Object(p.jsxs)(st.a,{style:{backgroundColor:"red"},onClose:c,variant:"filled",severity:"error",children:[e," \ud83d\ude20"]})})})})),ut=n(184),lt=n(175),dt=n(176),jt=n(188),bt=n(177),Ot=n(136),ft=n(84),pt=n.n(ft),ht=n(178),vt=n(189);function xt(){var t=Object(r.useState)(!0),e=Object(j.a)(t,2),n=e[0],a=e[1],c=i.a.useState(null),s=Object(j.a)(c,2),o=(s[0],s[1]);return Object(p.jsxs)(ut.a,{sx:{flexGrow:1},children:[Object(p.jsx)(lt.a,{children:Object(p.jsx)(dt.a,{control:Object(p.jsx)(jt.a,{checked:n,onChange:function(t){a(t.target.checked)},"aria-label":"login switch"}),label:n?"Logout":"Login"})}),Object(p.jsx)(bt.a,{position:"static",children:Object(p.jsxs)(ht.a,{style:{justifyContent:"space-between"},children:[Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(p.jsx)(S.a,{size:"medium",edge:"start",color:"inherit","aria-label":"menu",children:Object(p.jsx)(pt.a,{})}),Object(p.jsx)(Ot.a,{variant:"h6",children:"Menu"})]}),n&&Object(p.jsx)("div",{children:Object(p.jsx)(S.a,{size:"medium","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){o(t.currentTarget)},color:"inherit",children:Object(p.jsx)(vt.a,{alt:"Remy Sharp",src:"/static/images/avatar/2.jpg"})})})]})})]})}var mt=n(179),Tt=function(){var t=Object(Z.c)((function(t){return t.app.status}));return Object(p.jsx)("div",{style:{height:"1px"},children:"loading"===t&&Object(p.jsx)(ut.a,{sx:{width:"100%"},children:Object(p.jsx)(mt.a,{})})})};var kt=function(){var t=Object(Z.b)(),e=Object(Z.c)(ct),n=Object(Z.c)(rt);Object(r.useEffect)((function(){t(function(){var t=Object(d.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(z("loading")),t.prev=1,t.next=4,w();case 4:n=t.sent,a=n.data,e({type:"SET-TODOLIST",todolists:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(P("Authorization has been denied for this request."));case 12:return t.prev=12,e(z("success")),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var a=Object(r.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(X(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),c=e.map((function(t){return Object(p.jsx)(et.a,{item:!0,children:Object(p.jsx)(nt.a,{elevation:3,style:{padding:"20px"},children:Object(p.jsx)(tt,{id:t.id},t.id)})},t.id)}));return Object(p.jsxs)(at.a,{fixed:!0,children:[Object(p.jsx)(xt,{}),Object(p.jsx)(Tt,{}),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(et.a,{container:!0,style:{margin:"50px 0",justifyContent:"center"},children:Object(p.jsx)(h,{callBack:a})}),Object(p.jsx)(et.a,{container:!0,spacing:6,children:c}),Object(p.jsx)(ot,{errorStatus:n})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St=n(59),yt=n(85),gt=Object(St.b)({todolist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE-TODOLISTS":return Object(g.a)(t.map((function(t){return t.id===e.todolistID?Object(D.a)(Object(D.a)({},t),{},{filter:e.value}):t})));case"REMOVE-TODOLISTS":return Object(g.a)(t.filter((function(t){return t.id!==e.todolistID})));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.todolistID?Object(D.a)(Object(D.a)({},t),{},{title:e.title}):t}));case"ADD-TODOLIST":return[Object(D.a)(Object(D.a)({},e.todolist),{},{filter:"All",entityStatus:"idle"})].concat(Object(g.a)(t));case"SET-TODOLIST":return e.todolists.map((function(t){return Object(D.a)(Object(D.a)({},t),{},{filter:"All",entityStatus:"idle"})}));case"CHANGE-TODOLIST-ENTITY-STATUS":return t.map((function(t){return t.id===e.todolistID?Object(D.a)(Object(D.a)({},t),{},{entityStatus:e.entityStatus}):t}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(D.a)(Object(D.a)({},t),{},Object(C.a)({},e.todolistID,t[e.todolistID].filter((function(t){return t.id!==e.taskId}))));case"ADD-TASK":return Object(D.a)(Object(D.a)({},t),{},Object(C.a)({},e.todolistID,[Object(D.a)(Object(D.a)({},e.task),{},{entityStatus:"idle"})].concat(Object(g.a)(t[e.todolistID]))));case"UPDATE-TASK":return Object(D.a)(Object(D.a)({},t),{},Object(C.a)({},e.todolistID,t[e.todolistID].map((function(t){return t.id===e.TaskId?Object(D.a)(Object(D.a)({},t),e.module):t}))));case"ADD-TODOLIST":return Object(D.a)(Object(D.a)({},t),{},Object(C.a)({},e.todolist.id,[]));case"SET-TASK":return Object(D.a)(Object(D.a)({},t),{},Object(C.a)({},e.todolistID,e.tasks.map((function(t){return Object(D.a)(Object(D.a)({},t),{},{entityStatus:"idle"})}))));case"REMOVE-TODOLISTS":return delete t[e.todolistID],t;case"CHANGE-TASK-ENTITY-STATUS":return Object(D.a)(Object(D.a)({},t),{},Object(C.a)({},e.todolistID,t[e.todolistID].map((function(t){return t.id===e.taskId?Object(D.a)(Object(D.a)({},t),{},{entityStatus:e.entityStatus}):t}))));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOAD-PROGRESS":case"ERROR-STATUS":return Object(D.a)(Object(D.a)({},t),e.payload);default:return t}}}),Ct=Object(St.c)(gt,Object(St.a)(yt.a));window.store=Ct,o.a.render(Object(p.jsx)(Z.a,{store:Ct,children:Object(p.jsx)(kt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[133,1,2]]]);
//# sourceMappingURL=main.c18185d5.chunk.js.map